source:
  type: postgres
  config:
    # Coordinates
    host_port: localhost:5432
    database: rawdata

    # Credentials
    username: etlworker
    password: etlworker

    # Options
    database_alias: rawdata_db
    include_tables: True
    include_views: True

    # Profiling
    profiling:
        enabled: True

transformers:
  - type: "pattern_add_dataset_tags"
    config:
      tag_pattern:
        rules:
          ".*urn:li:dataPlatform:postgres,rawdata_db.*": ["urn:li:tag:rawdata"]
          ".*urn:li:dataPlatform:postgres,rawdata_db.mlaas_rawdata.cm_cust*": ["urn:li:tag:cust-level"]
  - type: "pattern_add_dataset_terms"
    config:
      term_pattern:
        rules:
          ".*urn:li:dataPlatform:postgres,rawdata_db.*": ["urn:li:glossaryTerm:rawdata"]
          ".*urn:li:dataPlatform:postgres,rawdata_db.mlaas_rawdata.*": ["urn:li:glossaryTerm:dg-level-common", "urn:li:glossaryTerm:deidentify"]
sink:
  type: "datahub-rest"
  config:
    server: "http://localhost:8080"

  # type: "datahub-kafka"
  # config:
  #   connection:
  #     bootstrap: "localhost:9092"
  #     schema_registry_url: "http://localhost:8081"